# Copyright (C) 2019 LAAS-CNRS
#
# Author: Joseph Mirabel
#

cmake_minimum_required(VERSION 2.8.3)

set(CXX_DISABLE_WERROR True)

project(tiago_roscontrol_test LANGUAGES CXX)

## Find catkin macros and libraries
## if COMPONENTS list like find_package(catkin REQUIRED COMPONENTS xyz)
## is used, also find other catkin packages
find_package(catkin REQUIRED COMPONENTS
  pal_hardware_interfaces
  controller_interface
  roscpp
)

# This is necessary so that the pc file generated by catking is similar to the on
# done directly by jrl-cmake-modules
catkin_package(CATKIN_DEPENDS
roscpp pal_hardware_interfaces controller_interface
LIBRARIES tiago_roscontrol_test)

add_definitions(-DCONTROLLER_INTERFACE_KINETIC)

###########
## Build ##
###########

## Specify additional locations of header files
## Your package locations should be listed before other locations
# include_directories(include)
include_directories(
  ${catkin_INCLUDE_DIRS}
  )

## Declare a C++ library
add_library(tiago_roscontrol_test
src/tiago-roscontrol-test.cpp
)

## Add cmake target dependencies of the executable
## same as for the library above
# add_dependencies(roscontrol_sot_node ${${PROJECT_NAME}_EXPORTED_TARGETS} ${catkin_EXPORTED_TARGETS})

## Specify libraries to link a library or executable target against
target_link_libraries(tiago_roscontrol_test
  ${catkin_LIBRARIES}
  )

## Mark executables and/or libraries for installation
install(TARGETS tiago_roscontrol_test DESTINATION lib )

foreach(dir config launch)
  install(DIRECTORY ${dir}
    DESTINATION ${CATKIN_PACKAGE_SHARE_DESTINATION}
  )
endforeach()
